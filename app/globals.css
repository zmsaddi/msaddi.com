@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Material Design 3 Color System - Per MD3 Specifications */
    --primary: #007BFF;
    --primary-hover: #005AC1;
    --secondary: #0D1116;
    --accent: #1E88E5;
    --surface: #F8FAFC;
    --surface-white: #FFFFFF;
    --surface-container: #F8FAFC;
    --surface-footer: #F3F4F6;
    --text-primary: #0D1116;
    --text-secondary: #5E646A;
    --divider: #D5D8DC;
  }

  /* CRITICAL: ENFORCE LATIN NUMERALS GLOBALLY */
  * {
    font-variant-numeric: lining-nums;
    font-feature-settings: "lnum" 1;
  }

  /* Force Latin numerals for all number inputs and displays */
  input[type="number"],
  input[type="tel"],
  input[type="date"],
  input[type="time"],
  .number,
  .latin-num {
    font-variant-numeric: lining-nums tabular-nums;
    font-feature-settings: "lnum" 1, "tnum" 1;
    direction: ltr !important;
  }

  html {
    scroll-behavior: smooth;
    /* Ensure Latin numerals in all contexts */
    font-variant-numeric: lining-nums;
  }

  body {
    @apply bg-surface text-text-primary;
    font-variant-numeric: lining-nums;
    font-feature-settings: "lnum" 1;
  }

  /* RTL Support - but numbers stay LTR */
  [dir="rtl"] {
    @apply text-right;
  }

  [dir="rtl"] .number,
  [dir="rtl"] input[type="number"],
  [dir="rtl"] input[type="tel"],
  [dir="rtl"] .latin-num {
    direction: ltr !important;
    text-align: left !important;
  }

  /* Custom scrollbar - Material Design 3 */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-surface-container;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-outline rounded-md;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-text-secondary;
  }
}

@layer components {
  /* Material Design 3 Button styles - FAB & Elevated */
  .btn-primary {
    @apply bg-primary text-white px-8 py-4 rounded-full font-medium
    hover:bg-primary-hover transition-all duration-300 ease-out
    shadow-elevation-3 hover:shadow-elevation-4
    active:shadow-elevation-2 transform hover:-translate-y-0.5
    active:scale-[0.97] disabled:opacity-50 disabled:cursor-not-allowed
    relative overflow-hidden;
  }

  /* Material Design 3 Filled Tonal Button */
  .btn-secondary {
    @apply bg-primary/12 text-primary px-8 py-4 rounded-full font-medium
    hover:bg-primary/18 transition-all duration-300 ease-out
    shadow-elevation-1 hover:shadow-elevation-2
    active:shadow-elevation-0 transform hover:-translate-y-0.5
    active:scale-[0.97] disabled:opacity-50 disabled:cursor-not-allowed
    relative overflow-hidden;
  }

  /* Material Design 3 Text Button */
  .btn-ghost {
    @apply text-primary px-6 py-3.5 rounded-full font-medium
    hover:bg-primary/8 transition-all duration-300 ease-out
    active:bg-primary/12
    active:scale-[0.97] disabled:opacity-50 disabled:cursor-not-allowed
    relative overflow-hidden;
  }

  /* Material Design 3 FAB Button */
  .btn-fab {
    @apply bg-accent text-white w-14 h-14 rounded-2xl
    flex items-center justify-center font-medium
    shadow-elevation-3 hover:shadow-elevation-4
    transition-all duration-300 ease-out
    hover:bg-accent/90 transform hover:-translate-y-0.5
    active:scale-[0.95] disabled:opacity-50 disabled:cursor-not-allowed
    relative overflow-hidden;
  }

  /* Material Design 3 Extended FAB */
  .btn-fab-extended {
    @apply bg-accent text-white px-8 py-4 rounded-2xl
    flex items-center gap-3 font-medium
    shadow-elevation-3 hover:shadow-elevation-4
    transition-all duration-300 ease-out
    hover:bg-accent/90 transform hover:-translate-y-1
    active:scale-[0.97] disabled:opacity-50 disabled:cursor-not-allowed
    relative overflow-hidden;
  }

  /* Material Design 3 Ripple Effect */
  .btn-primary::before,
  .btn-secondary::before,
  .btn-ghost::before,
  .btn-fab::before,
  .btn-fab-extended::before {
    content: '';
    @apply absolute inset-0 bg-white/20 opacity-0 scale-0 rounded-full
    transition-all duration-500 ease-out;
  }

  .btn-primary:active::before,
  .btn-secondary:active::before,
  .btn-ghost:active::before,
  .btn-fab:active::before,
  .btn-fab-extended:active::before {
    @apply opacity-100 scale-100;
  }

  /* Material Design 3 Card */
  .card-md3 {
    @apply bg-surface rounded-md-lg border border-outline
    shadow-elevation-1 hover:shadow-elevation-2
    transition-shadow duration-200;
  }

  /* Container with proper spacing */
  .container-custom {
    @apply max-w-[1400px] mx-auto px-6 sm:px-8 lg:px-12;
  }

  /* Section padding - Material Design spacing (48px mobile / 80px desktop) */
  .section-padding {
    @apply py-md-2xl md:py-md-4xl;
  }

  /* Gradient text - Updated colors */
  .gradient-text {
    @apply bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent;
  }

  /* Material Design 3 Input fields */
  .input-field {
    @apply w-full px-4 py-3.5 rounded-lg border border-outline
    bg-surface text-text-primary placeholder:text-text-secondary
    focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary
    transition-all duration-200;
    /* Ensure Latin numerals in inputs */
    font-variant-numeric: lining-nums tabular-nums;
    font-feature-settings: "lnum" 1, "tnum" 1;
  }

  /* Loading spinner */
  .spinner {
    @apply inline-block w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin;
  }
}

@layer utilities {
  /* Text selection color */
  ::selection {
    @apply bg-primary text-white;
  }

  /* Focus visible for accessibility */
  .focus-visible-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2;
  }

  /* Responsive text sizes - Material Design 3 */
  .text-responsive-xs {
    @apply text-xs sm:text-sm;
  }

  .text-responsive-sm {
    @apply text-sm sm:text-base;
  }

  .text-responsive-base {
    @apply text-body-md sm:text-body-lg;
  }

  .text-responsive-lg {
    @apply text-body-lg sm:text-title-lg;
  }

  .text-responsive-xl {
    @apply text-title-lg sm:text-headline-sm;
  }

  .text-responsive-2xl {
    @apply text-headline-sm sm:text-headline-md;
  }

  .text-responsive-3xl {
    @apply text-headline-md sm:text-headline-lg;
  }

  .text-responsive-4xl {
    @apply text-headline-lg sm:text-display-sm;
  }

  /* Material Design 3 Animations */
  .animate-fade-up {
    animation: fadeUp 0.3s ease-out;
  }

  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  @keyframes fadeUp {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes slideUp {
    from {
      transform: translateY(20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  /* Utility class for enforcing Latin numerals */
  .latin-numerals {
    font-variant-numeric: lining-nums tabular-nums !important;
    font-feature-settings: "lnum" 1, "tnum" 1 !important;
    direction: ltr !important;
  }
}

/* Override any Arabic numerals that might appear */
@font-face {
  font-family: 'Inter';
  unicode-range: U+0660-0669, U+06F0-06F9; /* Arabic-Indic digits */
  src: local('Inter'); /* Force fallback to Inter which uses Latin numerals */
}